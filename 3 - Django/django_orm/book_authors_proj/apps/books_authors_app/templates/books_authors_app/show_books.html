<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Books & Authors</title>
    {% load static %}
    <link rel="stylesheet" href="{% static 'books_authors_app/css/style.css' %}">
    <script src="{% static 'books_authors_app/js/script.js' %}"></script>
</head>
<body>
    
    <h1>{{books.title}}</h1>
    <p>ID: {{books.id}}</p>
    <p>Description: {{books.description}}</p>
    <p>Authors</p>
    {% for author in books.authors.all %}
        <li>{{author.first_name}} {{author.last_name}}</li>
    {% endfor %}

    <form action="/authors/update/{{books.id}}" method="POST">
    <select name="author">
        <option value=''>Select an author</option>
        {% for author in authors.all %}
            <option value='{{author.id}}'>{{author.first_name}} {{author.last_name}}</option>
        {% endfor %}
    </select>
        {% csrf_token %}
        <input type="submit" value="Add">
    </form>

    <p><a href="/">Back to Books</a></p>
</body>
</html>